@using Resources1 = TetraTech.TTProjetPlus.Views.TTProjet
@using Resources = TetraTech.TTProjetPlus.Views.Home
@using Resources0 = TetraTech.TTProjetPlus.Views.ManageDirectoryRights
@using Resources2 = TetraTech.TTProjetPlus.Views.Securite
@using ArchiveResources = TetraTech.TTProjetPlus.Views.ArchiveProjet
@using Resources3 = TetraTech.TTProjetPlus.Views.TTProjet
@model List<TetraTech.TTProjetPlus.Data.usp_get_OS_Project_Env_Result>

<script type="text/javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/select/1.3.4/js/dataTables.select.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/datetime/1.1.2/js/dataTables.dateTime.min.js"></script>
<script type="text/javascript" src="https://editor.datatables.net/extensions/Editor/js/dataTables.editor.min.js"></script>
<link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet" media="screen">
<link href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css" rel="stylesheet" media="screen">
<link href="https://cdn.datatables.net/select/1.3.4/css/select.dataTables.min.css" rel="stylesheet" media="screen">
<link href="https://cdn.datatables.net/datetime/1.1.2/css/dataTables.dateTime.min.css" rel="stylesheet" media="screen">
<link href="https://editor.datatables.net/extensions/Editor/css/editor.dataTables.min.css" rel="stylesheet" media="screen">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css" />


<style>
    #data_ListOSProjectEnv {
        width: 100% !important;
    }

        #data_ListOSProjectEnv td {
            width: auto !important;
            text-overflow: ellipsis;
            overflow: hidden;
        }

        #data_ListOSProjectEnv th {
            width: auto !important;
            white-space: normal;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }
</style>

<div class="container " style="height: 200vh;width: 100%;">
    <div class="main">
        <div class="row">
            <div class="row">
                <div class="col-lg-3" style="padding-top: -49px;">
                    <div class="panel" style="border-radius: 10px; margin-left: -10px; height: 99px; ">
                        <div class="panel-body">
                            <ul class="list-inline">
                                <li><a style=" color:#183666;" href="@Url.Action("Index", "TTProjet")">TT Projet +  /</a></li>
                                <li style="color:#183666 ; font-weight: bold"><a href="@Url.Action("Index2", "ArchiveProjet")"> @ArchiveResources.ArchiveProjetRessource.Administration </a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="">
                        <div class="panel" style="border-radius: 10px; margin-left: -10px; height: 99px; ">
                            <div class="panel-body">
                                <ul class="list-inline">
                                    <li>
                                        &bull;&nbsp;
                                        <a style="color:#183666 ; " href="@Url.Action("Index2", "ArchiveProjet")">@ArchiveResources.ArchiveProjetRessource.ArchiveProject</a>
                                    </li>
                                    <br>
                                    <li>
                                        &bull;&nbsp;
                                        <a style="color: #183666; " href="@Url.Action("Index", "ArchiveProjet")">@ArchiveResources.ArchiveProjetRessource.ArchiveProject1</a>
                                    </li>
                                    <br>
                                    <li>
                                        &bull;&nbsp;
                                        <a style="color:#183666 ;" href="@Url.Action("Index", "Securite")">@Resources2.Securite.CreateNumberAccessManagement</a>
                                    </li>
                                    <br>
                                    <li>
                                        &bull;&nbsp;
                                        <a style="color: #183666;" href="@Url.Action("Index", "GestionProjetSecuriser")">@Resources3.TTProjet.MangeProjetSecuriser</a>
                                    </li>

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="">
                        <div class="panel" style="border-radius: 10px; margin-left: -10px; height: 99px; ">
                            <div class="panel-body">
                                <ul class="list-inline">
                                    <li>
                                        &bull;&nbsp;
                                        <a style="color: #183666; " href="@Url.Action("Index", "Gestion10ConfTQE")">@Resources3.TTProjet.Manage10ConfTQE</a>
                                    </li>
                                    <br>
                                    <li>
                                        &bull;&nbsp;
                                        <a style="color: #183666;" href="@Url.Action("Index", "Gestion10Conf")">@Resources3.TTProjet.Manage10Conf</a>
                                    </li>
                                    <br>
                                    <li>
                                        &bull;&nbsp;
                                        <a style="color: #183666; font-weight: bold" href="@Url.Action("Index", "EnvVerifDiligente")">@Resources3.TTProjet.ListProjetEnvDiligente</a>
                                    </li>
                                    <br>
                                    <li>
                                        &bull;&nbsp;
                                        <a style="color: #183666;" href="@Url.Action("SatisfactionClient", "TTProjet")">@Resources3.TTProjet.ProcessusSatisfactionClient</a>
                                    </li>

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" style="color:steelblue; font-size:initial">
            <div class="form-group">
                <div class="col-sm-12 ">
                    <div class="row">
                        <div class="row form-group">
                            <div class="col-lg-12">
                                <div class="panel pagination-grey" style="border-radius: 10px; margin-left: -10px; margin-top: -10px; ">
                                    <br />
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <h4 style="margin-top: 0px; color: #183666; font-family: 'Arial Bold'; font-size: 18pt; margin-left: 30px;">
                                                <b>@Resources3.TTProjet.ListProjetEnvDiligente</b>
                                            </h4>
                                        </div>
                                    </div>
                                    <br />
                                    <div id="data-table_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer" style=" margin-right: 10px; margin-left: 10px">
                                        <table id="data_ListOSProjectEnv" class=" table table-bordered  data-table  dataTable display" style="margin-top: -50px; width: 100%; font-size: 12px;">
                                            <thead id="tableHeaderGP">
                                                <tr class="grey" role="row">

                                                    <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
                                                        <a> @Resources.informations.mp_number </a>
                                                    </th>
                                                    <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
                                                        <a> @Resources.informations.TitleOS </a>
                                                    </th>
                                                    <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
                                                        <a> @Resources.informations.ClientName </a>
                                                    </th>
                                                    <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
                                                        <a> @Resources.informations.Company </a>
                                                    </th>
                                                    <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
                                                        <a> @Resources.informations.BusinessUnit </a>
                                                    </th>
                                                    <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
                                                        <a> @Resources.informations.ORG </a>
                                                    </th>
                                                    <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
                                                        <a> @Resources.informations.InitiatedBy </a>
                                                    </th>
                                                    <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
                                                        <a> @Resources.informations.ProjectMgr </a>
                                                    </th>
                                                    <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
                                                        <a> @Resources.informations.ProgramMgr </a>
                                                    </th>
                                                    <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
                                                        <a> @Resources.informations.RefAndComments </a>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (TetraTech.TTProjetPlus.Data.usp_get_OS_Project_Env_Result item in Model)
                                                {

                                                    <tr>
                                                        <td style="text-align: left; width:10%">
                                                            @item.Project_Number
                                                        </td>
                                                        <td style="text-align: left;">
                                                            @item.Project_Description
                                                        </td>
                                                        <td style="text-align: left;">
                                                            @item.Customer_Name
                                                        </td>
                                                        <td style="text-align: left;">
                                                            @item.Company
                                                        </td>
                                                        <td style="text-align: left;">
                                                            @item.UniteAffaire
                                                        </td>
                                                        <td style="text-align: left;">
                                                            @item.Organisation
                                                        </td>
                                                        <td style="text-align: left;">
                                                            @item.InitiatedBy
                                                        </td>
                                                        <td style="text-align: left;">
                                                            @item.Project_Mgr
                                                        </td>
                                                        <td style="text-align: left;">
                                                            @item.Program_Mgr
                                                        </td>
                                                        <td style="text-align: left;">
                                                            @item.Comments
                                                        </td>
                                                    </tr>
                                                }

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>

    $(document).ready(function () {
        $('#data_ListOSProjectEnv').DataTable({
            pageResize: true,
            pageLength: 10,
            select: true,
            scrollX: true,
            scrollY: $(window).height() <= 722 ? $(window).height() / 3.5 : $(window).height() / 2,
            scrollCollapse: true,
            language: {
                "url": '@Session["lang"].ToString()' == 'fr' ? "/Content/assets/French.json" : "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/English.json",
                select: {
                    rows: '@Session["lang"].ToString()' == 'fr' ? '' : ''
                }
            },
        });
        $('#data_ListOSProjectEnv').DataTable().draw();
    });

    $('#data_ListOSProjectEnv thead').on('keyup', ".column_search", function () {

        $('#data_ListOSProjectEnv').DataTable()
            .column($(this).parent().index())
            .search(this.value)
            .draw();
    });

</script>
